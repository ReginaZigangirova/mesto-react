{"ast":null,"code":"class Api {\n  constructor(_ref) {\n    let {\n      baseUrl,\n      headers\n    } = _ref;\n    this._headers = headers;\n    this._baseUrl = baseUrl;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(res.status);\n    }\n  }\n\n  getProfile() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  editProfile(name, about) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about\n      })\n    }).then(this._checkResponse);\n  }\n\n  addCard(name, link) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link\n      })\n    }).then(this._checkResponse);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id} `, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes `, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  addLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes `, {\n      method: \"PUT\",\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  setAvatar(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar\n      })\n    }).then(this._checkResponse);\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-37',\n  headers: {\n    authorization: '0422eec2-f505-49eb-b34a-7793c9abd9fe',\n    'Content-Type': 'application/json'\n  }\n});\nexport default api;","map":{"version":3,"sources":["/Users/regina/mesto-react/mesto-react/src/components/utils.js/Api.js"],"names":["Api","constructor","baseUrl","headers","_headers","_baseUrl","_checkResponse","res","ok","json","Promise","reject","status","getProfile","fetch","then","getInitialCards","editProfile","name","about","method","body","JSON","stringify","addCard","link","deleteCard","id","deleteLike","addLike","setAvatar","avatar","api","authorization"],"mappings":"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","sourcesContent":[" class Api {\n     constructor({ baseUrl, headers }) {\n         this._headers = headers\n         this._baseUrl = baseUrl\n     }\n     _checkResponse(res) {\n         if (res.ok) {\n             return res.json()\n         } else {\n             return Promise.reject(res.status)\n         }\n     }\n     getProfile() {\n         return fetch(`${this._baseUrl}/users/me`, {\n             headers: this._headers\n         }).then(this._checkResponse)\n     }\n\n     getInitialCards() {\n         return fetch(`${this._baseUrl}/cards`, {\n             headers: this._headers\n         }).then(this._checkResponse)\n     }\n     editProfile(name, about) {\n         return fetch(`${this._baseUrl}/users/me`, {\n                 method: 'PATCH',\n                 headers: this._headers,\n                 body: JSON.stringify({\n                     name,\n                     about\n                 })\n             })\n             .then(this._checkResponse)\n     }\n     addCard(name, link) {\n         return fetch(`${this._baseUrl}/cards`, {\n             method: \"POST\",\n             headers: this._headers,\n             body: JSON.stringify({\n                 name,\n                 link\n             })\n         }).then(this._checkResponse)\n     }\n\n     deleteCard(id) {\n         return fetch(`${this._baseUrl}/cards/${id} `, {\n             method: \"DELETE\",\n             headers: this._headers,\n         }).then(this._checkResponse)\n     }\n     deleteLike(id) {\n         return fetch(`${this._baseUrl}/cards/${id}/likes `, {\n             method: \"DELETE\",\n             headers: this._headers,\n         }).then(this._checkResponse)\n     }\n     addLike(id) {\n         return fetch(`${this._baseUrl}/cards/${id}/likes `, {\n             method: \"PUT\",\n             headers: this._headers,\n         }).then(this._checkResponse)\n     }\n\n     setAvatar(avatar) {\n         return fetch(`${this._baseUrl}/users/me/avatar`, {\n             method: 'PATCH',\n             headers: this._headers,\n             body: JSON.stringify({\n                 avatar\n             })\n         }).then(this._checkResponse)\n     }\n }\n\n const api = new Api({\n     baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-37',\n     headers: {\n         authorization: '0422eec2-f505-49eb-b34a-7793c9abd9fe',\n         'Content-Type': 'application/json'\n     }\n });\n export default api"]},"metadata":{},"sourceType":"module"}